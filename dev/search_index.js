var documenterSearchIndex = {"docs":
[{"location":"guide/#Getting-Started","page":"Getting Started","title":"Getting Started","text":"","category":"section"},{"location":"guide/#Hardware-Setup","page":"Getting Started","title":"Hardware Setup","text":"Connect your FT-891 to the computer via the USB Type-B port on the radio's rear panel. On Linux, this creates two virtual serial ports:\n\nPort Name Purpose\n/dev/ttyUSB0 Enhanced COM CAT commands (frequency, mode, etc.)\n/dev/ttyUSB1 Standard COM PTT, CW keying via RTS/DTR\n\ntip: Tip\nThe port numbers may vary. Check dmesg or /dev/serial/by-id/ after plugging in.","category":"section"},{"location":"guide/#Linux-Permissions","page":"Getting Started","title":"Linux Permissions","text":"sudo usermod -aG dialout $USER\n# Log out and back in for the group change to take effect","category":"section"},{"location":"guide/#Radio-Menu-Settings","page":"Getting Started","title":"Radio Menu Settings","text":"Configure these via the FT-891's menu system:\n\nMenu Setting Value Purpose\n05-06 CAT RATE 9600 Serial baud rate (must match Julia code)\n05-07 CAT TOT 100ms Command timeout\n05-08 CAT RTS Enable RTS monitoring\n07-12 PC KEYING RTS Required for CW keying via computer","category":"section"},{"location":"guide/#Basic-Usage","page":"Getting Started","title":"Basic Usage","text":"using YaesuCAT\n\n# Create and connect\nradio = FT891(\"/dev/ttyUSB0\"; baudrate=9600)\nconnect!(radio)\n\n# Verify connection\nid = read(radio, Identification())  # Should return \"0670\"\n\n# Set frequency and mode\nset!(radio, FrequencyVFO{A}(), Hz(14_060_000))\nset!(radio, Mode(), CW())\n\n# Read back\nfreq = read(radio, FrequencyVFO{A}())  # → Hz(14060000)\nmode = read(radio, Mode())              # → CW()\n\n# Adjust CW settings\nset!(radio, KeySpeed(), WPM(17))\nset!(radio, KeyPitch(), Pitch(600))\nset!(radio, Keyer(), On())\nset!(radio, BreakIn(), SemiBreakIn())\n\n# Power and band\nset!(radio, Power(), Level(50))\nset!(radio, BandSelect(), Band20m())\n\n# Antenna tuner\nset!(radio, AntennaControl(), On())\n\ndisconnect!(radio)","category":"section"},{"location":"guide/#Testing-Without-Hardware","page":"Getting Started","title":"Testing Without Hardware","text":"Use NullTransport to test your code without a radio:\n\ntransport = NullTransport()\nradio = FT891(transport)\nconnect!(radio)\n\n# set! records commands\nset!(radio, Mode(), CW())\n@assert transport.sent[end] == \"MD03;\"\n\n# Pre-load responses for read\npush!(transport.responses, \"FA014060000;\")\nfreq = read(radio, FrequencyVFO{A}())\n@assert freq == Hz(14_060_000)","category":"section"},{"location":"guide/#Raw-Commands","page":"Getting Started","title":"Raw Commands","text":"For commands not yet wrapped in types, use the low-level API:\n\nsend_cmd!(radio, \"AG0050\")           # Set AF gain to 50\nresp = query(radio, \"AG0\")           # Read AF gain\nset!(radio, MenuAccess(), \"05069600\") # Set menu 05-06 to 9600","category":"section"},{"location":"api/#API-Reference","page":"API Reference","title":"API Reference","text":"","category":"section"},{"location":"api/#Radio-Types","page":"API Reference","title":"Radio Types","text":"","category":"section"},{"location":"api/#Connection","page":"API Reference","title":"Connection","text":"","category":"section"},{"location":"api/#High-Level-API","page":"API Reference","title":"High-Level API","text":"","category":"section"},{"location":"api/#Low-Level-API","page":"API Reference","title":"Low-Level API","text":"","category":"section"},{"location":"api/#Commands-—-Frequency-and-Mode","page":"API Reference","title":"Commands — Frequency & Mode","text":"","category":"section"},{"location":"api/#Commands-—-CW-Keyer","page":"API Reference","title":"Commands — CW Keyer","text":"","category":"section"},{"location":"api/#Commands-—-TX-Control","page":"API Reference","title":"Commands — TX Control","text":"","category":"section"},{"location":"api/#Commands-—-Audio-and-Filters","page":"API Reference","title":"Commands — Audio & Filters","text":"","category":"section"},{"location":"api/#Commands-—-Navigation","page":"API Reference","title":"Commands — Navigation","text":"","category":"section"},{"location":"api/#Commands-—-Info-and-Misc","page":"API Reference","title":"Commands — Info & Misc","text":"","category":"section"},{"location":"api/#Value-Types","page":"API Reference","title":"Value Types","text":"","category":"section"},{"location":"api/#CW-Keying","page":"API Reference","title":"CW Keying","text":"","category":"section"},{"location":"api/#Protocol-(Internal)","page":"API Reference","title":"Protocol (Internal)","text":"","category":"section"},{"location":"api/#Transport-(Internal)","page":"API Reference","title":"Transport (Internal)","text":"","category":"section"},{"location":"api/#Type-Hierarchy","page":"API Reference","title":"Type Hierarchy","text":"","category":"section"},{"location":"api/#Main.YaesuCAT.FT891","page":"API Reference","title":"Main.YaesuCAT.FT891","text":"FT891{T <: AbstractTransport} <: AbstractYaesuRadio\n\nYaesu FT-891 HF/50 MHz transceiver. Parametric on transport type T for compile-time type stability.\n\nConstructors\n\n# Production — serial port (uses SerialTransport internally)\nradio = FT891(\"/dev/ttyUSB0\"; baudrate=9600, timeout_ms=200)\n\n# Testing — null transport\nradio = FT891(NullTransport())\n\nRadio identification\n\nThe FT-891 returns \"0670\" for the ID command.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.connect!","page":"API Reference","title":"Main.YaesuCAT.connect!","text":"connect!(radio::AbstractYaesuRadio)\n\nOpen the serial transport to the radio. Must be called before any set! or read operations.\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.disconnect!","page":"API Reference","title":"Main.YaesuCAT.disconnect!","text":"disconnect!(radio::AbstractYaesuRadio)\n\nClose the serial transport and release the port.\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.set!","page":"API Reference","title":"Main.YaesuCAT.set!","text":"set!(radio, cmd, value)\n\nSet a radio parameter. The command type and value type together determine the CAT string that gets sent.\n\nset!(radio, FrequencyVFO{A}(), Hz(14_060_000))\nset!(radio, Mode(), CW())\nset!(radio, KeySpeed(), WPM(17))\nset!(radio, CWKeying(), KeyerSlot(1))\n\n\n\n\n\n","category":"function"},{"location":"api/#Base.read","page":"API Reference","title":"Base.read","text":"read(radio, cmd) → value\n\nRead a radio parameter. Returns a typed value (e.g., Hz, WPM, CW()).\n\nfreq = read(radio, FrequencyVFO{A}())  # → Hz(14060000)\nwpm  = read(radio, KeySpeed())          # → WPM(17)\nmode = read(radio, Mode())              # → CW()\nid   = read(radio, Identification())    # → \"0670\"\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.send_cmd!","page":"API Reference","title":"Main.YaesuCAT.send_cmd!","text":"send_cmd!(radio, cmd_str::AbstractString)\n\nSend a raw CAT command string. Terminator is appended if missing. Prefer the typed set! / read API for safety.\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.read_response","page":"API Reference","title":"Main.YaesuCAT.read_response","text":"read_response(radio; timeout_ms) → String\n\nRead raw bytes from the radio until the terminator ; or timeout.\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.query","page":"API Reference","title":"Main.YaesuCAT.query","text":"query(radio, cmd_str) → String\n\nSend a raw command and return the stripped response.\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.FrequencyVFO","page":"API Reference","title":"Main.YaesuCAT.FrequencyVFO","text":"FrequencyVFO{V <: AbstractVFO} <: SetReadCommand\n\nVFO frequency command. Parametric on VFO tag for compile-time dispatch. CAT codes: FA (VFO-A), FB (VFO-B). Capabilities: Set/Read/Answer.\n\nset!(radio, FrequencyVFO{A}(), Hz(14_250_000))\nfreq = read(radio, FrequencyVFO{A}())  # → Hz(14250000)\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Mode","page":"API Reference","title":"Main.YaesuCAT.Mode","text":"Mode <: SetReadCommand\n\nOperating mode command. CAT code: MD. Capabilities: Set/Read/Answer. P1 is fixed to 0 for the FT-891 (main VFO).\n\nset!(radio, Mode(), CW())\nmode = read(radio, Mode())  # → CW()\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.KeySpeed","page":"API Reference","title":"Main.YaesuCAT.KeySpeed","text":"KeySpeed <: SetReadCommand\n\nCW keyer speed. CAT code: KS. Range: 4–60 WPM.\n\nset!(radio, KeySpeed(), WPM(17))\nwpm = read(radio, KeySpeed())  # → WPM(17)\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Keyer","page":"API Reference","title":"Main.YaesuCAT.Keyer","text":"Keyer <: SetReadCommand\n\nInternal electronic keyer enable/disable. CAT code: KR.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.KeyPitch","page":"API Reference","title":"Main.YaesuCAT.KeyPitch","text":"KeyPitch <: SetReadCommand\n\nCW sidetone pitch. CAT code: KP. Range: 300–1050 Hz, 10 Hz steps. Parameter: (hz - 300) ÷ 10, formatted as 2 digits.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.CWKeying","page":"API Reference","title":"Main.YaesuCAT.CWKeying","text":"CWKeying <: SetOnlyCommand\n\nCW keyer memory / message playback trigger. CAT code: KY. Set only — the FT-891 does not support reading the keying state.\n\nThis command triggers playback of a pre-stored message. It does NOT accept arbitrary text. Use KeyerMemory to store messages first, or use RTSKeyer for arbitrary CW text.\n\nset!(radio, CWKeying(), KeyerSlot(1))   # play keyer memory 1\nset!(radio, CWKeying(), MessageSlot(3)) # play message keyer 3\n\nnote: kd-boss/CAT reference\nIn the C++ library, CWKeying::Set() maps the same way — it only triggers playback of stored messages. There is no Read() or Answer() for this command (column pattern O/X/X/X).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.KeyerMemory","page":"API Reference","title":"Main.YaesuCAT.KeyerMemory","text":"KeyerMemory <: SetReadCommand\n\nCW keyer memory storage. CAT code: KM. Slots 1–5, up to 50 characters each. Set stores a message; Read retrieves the stored text.\n\nset!(radio, KeyerMemory(1), \"CQ CQ DE SA0KAM K\")\nmsg = read(radio, KeyerMemory(1))  # → \"CQ CQ DE SA0KAM K\"\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.BreakIn","page":"API Reference","title":"Main.YaesuCAT.BreakIn","text":"BreakIn <: SetReadCommand\n\nCW break-in mode. CAT code: BI.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.CWSpot","page":"API Reference","title":"Main.YaesuCAT.CWSpot","text":"CWSpot <: SetReadCommand\n\nCW spot tone enable/disable. CAT code: CS.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.TXState","page":"API Reference","title":"Main.YaesuCAT.TXState","text":"TXState <: SetReadCommand\n\nTransmit state control. CAT code: TX. Values: 0 = all off, 1 = CAT TX on, 2 = radio TX on.\n\nset!(radio, TXState(), On())   # key up via CAT (TX1)\nset!(radio, TXState(), Off())  # unkey (TX0)\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Power","page":"API Reference","title":"Main.YaesuCAT.Power","text":"Power <: SetReadCommand\n\nTX output power. CAT code: PC. Range: 5–100 watts.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AntennaControl","page":"API Reference","title":"Main.YaesuCAT.AntennaControl","text":"AntennaControl <: SetReadCommand\n\nAntenna tuner. CAT code: AC. set!(radio, AntennaControl(), On()) starts tuning.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AFGain","page":"API Reference","title":"Main.YaesuCAT.AFGain","text":"AFGain <: SetReadCommand\n\nAF (audio) gain. CAT code: AG. P1=0 (main), P2 = 000–255.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.MicGain","page":"API Reference","title":"Main.YaesuCAT.MicGain","text":"MicGain <: SetReadCommand\n\nMicrophone gain. CAT code: MG. Range: 0–100.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.MonitorLevel","page":"API Reference","title":"Main.YaesuCAT.MonitorLevel","text":"MonitorLevel <: SetReadCommand\n\nMonitor level. CAT code: ML. Range: 0–100.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AutoNotch","page":"API Reference","title":"Main.YaesuCAT.AutoNotch","text":"AutoNotch <: SetReadCommand\n\nAuto notch filter. CAT code: BC.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.ManualNotch","page":"API Reference","title":"Main.YaesuCAT.ManualNotch","text":"ManualNotch <: SetReadCommand\n\nManual notch filter level. CAT code: BP. Range: 0–320 (×10 Hz).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Contour","page":"API Reference","title":"Main.YaesuCAT.Contour","text":"Contour <: SetReadCommand\n\nContour filter. CAT code: CO.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.IFShift","page":"API Reference","title":"Main.YaesuCAT.IFShift","text":"IFShift <: SetReadCommand\n\nIF shift. CAT code: IS. P1=0 (fixed), P2=on/off, P3=signed Hz (0–1200, 20 Hz steps).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AGCFunction","page":"API Reference","title":"Main.YaesuCAT.AGCFunction","text":"AGCFunction <: SetReadCommand\n\nAGC mode. CAT code: GT. P1=0 (main).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.BandSelect","page":"API Reference","title":"Main.YaesuCAT.BandSelect","text":"BandSelect <: SetOnlyCommand\n\nDirect band selection. CAT code: BS. Set only.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.BandUp","page":"API Reference","title":"Main.YaesuCAT.BandUp","text":"BandUp <: SetOnlyCommand\n\nStep band up. CAT code: BU.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.BandDown","page":"API Reference","title":"Main.YaesuCAT.BandDown","text":"BandDown <: SetOnlyCommand\n\nStep band down. CAT code: BD.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.FastStep","page":"API Reference","title":"Main.YaesuCAT.FastStep","text":"FastStep <: SetReadCommand\n\nFast tuning step enable/disable. CAT code: FS.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Identification","page":"API Reference","title":"Main.YaesuCAT.Identification","text":"Identification <: ReadOnlyCommand\n\nRadio identification. CAT code: ID. FT-891 returns \"0670\". Read-only — used to verify the connected radio model.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Information","page":"API Reference","title":"Main.YaesuCAT.Information","text":"Information <: ReadOnlyCommand\n\nInformation query. CAT code: IF. Returns a packed string with frequency, mode, clarifier, VFO status, CTCSS, and shift information. Read-only.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.MeterSwitch","page":"API Reference","title":"Main.YaesuCAT.MeterSwitch","text":"MeterSwitch <: SetReadCommand\n\nSelect which meter to display during TX. CAT code: MS.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.ReadMeter","page":"API Reference","title":"Main.YaesuCAT.ReadMeter","text":"ReadMeter <: ReadOnlyCommand\n\nRead current meter value. CAT code: RM. Returns raw level string.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Lock","page":"API Reference","title":"Main.YaesuCAT.Lock","text":"Lock <: SetReadCommand\n\nDial lock. CAT code: LK.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Dimmer","page":"API Reference","title":"Main.YaesuCAT.Dimmer","text":"Dimmer <: SetReadCommand\n\nDisplay dimmer. CAT code: DA.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.VoxStatus","page":"API Reference","title":"Main.YaesuCAT.VoxStatus","text":"VoxStatus <: SetReadCommand\n\nVOX enable/disable. CAT code: VX.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.VoxGain","page":"API Reference","title":"Main.YaesuCAT.VoxGain","text":"VoxGain <: SetReadCommand\n\nVOX gain level. CAT code: VG. Range: 0–100.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.VoxDelay","page":"API Reference","title":"Main.YaesuCAT.VoxDelay","text":"VoxDelay <: SetReadCommand\n\nVOX delay time. CAT code: VD. Range: 30–3000 ms, 10 ms steps.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.MenuAccess","page":"API Reference","title":"Main.YaesuCAT.MenuAccess","text":"MenuAccess <: SetReadCommand\n\nDirect menu parameter access. CAT code: EX. Use with raw strings for the menu number + value.\n\n# Set CAT baud rate (menu 05-06) to 9600\nset!(radio, MenuAccess(), \"05069600\")\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Hz","page":"API Reference","title":"Main.YaesuCAT.Hz","text":"Hz(value::Int)\n\nFrequency in Hertz. Range for FT-891: 30000 — 56000_000 Hz.\n\nset!(radio, FrequencyVFO{A}(), Hz(14_060_000))\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.WPM","page":"API Reference","title":"Main.YaesuCAT.WPM","text":"WPM(value::Int)\n\nCW keyer speed in words per minute. Range: 4–60 WPM.\n\nset!(radio, KeySpeed(), WPM(17))\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.MilliSeconds","page":"API Reference","title":"Main.YaesuCAT.MilliSeconds","text":"MilliSeconds(value::Int)\n\nDuration in milliseconds. Used for VOX delay, etc.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Pitch","page":"API Reference","title":"Main.YaesuCAT.Pitch","text":"Pitch(value::Int)\n\nCW sidetone pitch in Hz. Range: 300–1050 Hz, 10 Hz steps.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.Level","page":"API Reference","title":"Main.YaesuCAT.Level","text":"Level(value::Int)\n\nGeneric 0–255 or 0–100 level (AF gain, mic gain, etc.).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.KeyerSlot","page":"API Reference","title":"Main.YaesuCAT.KeyerSlot","text":"KeyerSlot(n::Int)\n\nSelects keyer memory slot 1–5 for CW playback via CWKeying command.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.MessageSlot","page":"API Reference","title":"Main.YaesuCAT.MessageSlot","text":"MessageSlot(n::Int)\n\nSelects message keyer slot 1–5 (mapped to KY params 6–A).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.RTSKeyer","page":"API Reference","title":"Main.YaesuCAT.RTSKeyer","text":"RTSKeyer <: AbstractCWKeyer\n\nCW keyer that toggles the RTS line on a serial port. Requires FT-891 menu 07-12 PC KEYING set to RTS.\n\nThe keyer uses the Standard COM port (the lower-numbered /dev/ttyUSB port), separate from the Enhanced port used for CAT commands.\n\nkeyer = RTSKeyer(\"/dev/ttyUSB1\")\nsend_morse!(keyer, \"CQ CQ DE SA0KAM K\", WPM(17))\nclose(keyer)\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.DTRKeyer","page":"API Reference","title":"Main.YaesuCAT.DTRKeyer","text":"DTRKeyer <: AbstractCWKeyer\n\nCW keyer that toggles the DTR line. Same as RTSKeyer but for radios configured with 07-12 PC KEYING = DTR.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.send_morse!","page":"API Reference","title":"Main.YaesuCAT.send_morse!","text":"send_morse!(keyer::AbstractCWKeyer, text::AbstractString, speed::WPM)\n\nSend arbitrary Morse code by toggling the keyer's serial control line.\n\nOpens the serial port if not already open. The port is left open after sending so multiple messages can be sent without re-opening.\n\nArguments\n\nkeyer: An RTSKeyer or DTRKeyer connected to the Standard COM port\ntext: ASCII text to send as Morse code\nspeed: Keying speed as WPM\n\nTiming\n\nUses PARIS standard timing: 1 unit = 1200/WPM milliseconds.\n\nFT-891 Setup\n\nMenu 07-12 PC KEYING: set to RTS (for RTSKeyer) or DTR (for DTRKeyer)\nMode must be CW or CW-R\nKeyer type (menu 04-01) should be set to OFF for straight-key emulation\n\nExample\n\nkeyer = RTSKeyer(\"/dev/ttyUSB1\")\nsend_morse!(keyer, \"CQ CQ DE SA0KAM SA0KAM K\", WPM(17))\nsend_morse!(keyer, \"5NN TU\", WPM(17))\nclose(keyer)\n\n\n\n\n\nsend_morse!(keyer::AbstractCWKeyer, elements::Vector{MorseElement}, speed::WPM)\n\nSend pre-computed Morse elements. Useful when you want to pre-process the text once and send it multiple times.\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.text_to_morse","page":"API Reference","title":"Main.YaesuCAT.text_to_morse","text":"text_to_morse(text::AbstractString) → Vector{MorseElement}\n\nConvert a text string to a flat vector of MorseElement timing codes. Unknown characters are silently skipped.\n\nelements = text_to_morse(\"CQ CQ\")\n# [DAH, ELEMENT_GAP, DIT, ELEMENT_GAP, DAH, ELEMENT_GAP, DIT,\n#  CHAR_GAP,\n#  DAH, ELEMENT_GAP, DAH, ELEMENT_GAP, DIT, ELEMENT_GAP, DAH,\n#  WORD_GAP,\n#  DAH, ELEMENT_GAP, DIT, ELEMENT_GAP, DAH, ELEMENT_GAP, DIT,\n#  CHAR_GAP,\n#  DAH, ELEMENT_GAP, DAH, ELEMENT_GAP, DIT, ELEMENT_GAP, DAH]\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.encode_set","page":"API Reference","title":"Main.YaesuCAT.encode_set","text":"encode_set(cmd, value) → String\n\nEncode a Set command into a CAT protocol string (with terminator). Dispatches on (CommandType, ValueType) — fully resolved at compile time.\n\nencode_set(FrequencyVFO{A}(), Hz(14_060_000))  # → \"FA014060000;\"\nencode_set(Mode(), CW())                        # → \"MD03;\"\nencode_set(KeySpeed(), WPM(17))                  # → \"KS017;\"\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.encode_read","page":"API Reference","title":"Main.YaesuCAT.encode_read","text":"encode_read(cmd) → String\n\nEncode a Read command (request for current value).\n\nencode_read(FrequencyVFO{A}())  # → \"FA;\"\nencode_read(KeySpeed())          # → \"KS;\"\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.decode_answer","page":"API Reference","title":"Main.YaesuCAT.decode_answer","text":"decode_answer(cmd, raw::AbstractString) → value\n\nDecode an Answer string from the radio into the appropriate value type.\n\ndecode_answer(FrequencyVFO{A}(), \"FA014060000\")  # → Hz(14060000)\ndecode_answer(KeySpeed(), \"KS017\")                 # → WPM(17)\ndecode_answer(Mode(), \"MD03\")                      # → CW()\n\n\n\n\n\n","category":"function"},{"location":"api/#Main.YaesuCAT.SerialTransport","page":"API Reference","title":"Main.YaesuCAT.SerialTransport","text":"SerialTransport <: AbstractTransport\n\nProduction serial transport wrapping a LibSerialPort SerialPort. Stores the port name, baud rate, and timeout for connection management.\n\nThe FT-891 uses 8 data bits, no parity, 2 stop bits (8N2).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.NullTransport","page":"API Reference","title":"Main.YaesuCAT.NullTransport","text":"NullTransport <: AbstractTransport\n\nA no-op transport for testing and dry-run scenarios. write_bytes records commands; read_until_terminator returns a configurable response.\n\nt = NullTransport()\npush!(t.responses, \"FA014060000;\")  # pre-load a mock response\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractRadio","page":"API Reference","title":"Main.YaesuCAT.AbstractRadio","text":"AbstractRadio\n\nRoot type for all radio transceivers. Subtypes must implement connect!, disconnect!, and the transport interface.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractYaesuRadio","page":"API Reference","title":"Main.YaesuCAT.AbstractYaesuRadio","text":"AbstractYaesuRadio <: AbstractRadio\n\nYaesu radios using the CAT command protocol (semicolon-terminated ASCII). All Yaesu CAT commands share the same framing: CMD[PARAMS];\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractCommand","page":"API Reference","title":"Main.YaesuCAT.AbstractCommand","text":"AbstractCommand\n\nRoot of the command type tree. Every CAT command is a singleton (zero-size) type descending from one of the capability branches below.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.SetReadCommand","page":"API Reference","title":"Main.YaesuCAT.SetReadCommand","text":"SetReadCommand <: AbstractCommand\n\nCommands that support both set! and read. Most common category. Corresponds to columns O/O/O in the Yaesu CAT command table.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.SetOnlyCommand","page":"API Reference","title":"Main.YaesuCAT.SetOnlyCommand","text":"SetOnlyCommand <: AbstractCommand\n\nCommands that only support set! (no read/answer). Column pattern: O/X/X/X in the Yaesu CAT command table. Examples: BandDown, BandUp, CWKeying.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.ReadOnlyCommand","page":"API Reference","title":"Main.YaesuCAT.ReadOnlyCommand","text":"ReadOnlyCommand <: AbstractCommand\n\nCommands that only support read (with answer). Column pattern: X/O/O/X in the Yaesu CAT command table. Examples: Information, Busy.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractVFO","page":"API Reference","title":"Main.YaesuCAT.AbstractVFO","text":"AbstractVFO\n\nPhantom type tag for VFO selection. Used as a type parameter to distinguish VFO-A vs VFO-B commands at compile time.\n\nFrequencyVFO{A}()  # VFO-A frequency command\nFrequencyVFO{B}()  # VFO-B frequency command — different type, different dispatch\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractValue","page":"API Reference","title":"Main.YaesuCAT.AbstractValue","text":"AbstractValue\n\nRoot for all parameter value types. Using dedicated types instead of raw Int/String gives us:\n\nType safety (can't pass Hz where WPM is expected)\nSelf-documenting call sites\nDispatch without runtime checks\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractMode","page":"API Reference","title":"Main.YaesuCAT.AbstractMode","text":"AbstractMode <: AbstractValue\n\nOperating modes (CW, USB, LSB, FM, AM, DATA, RTTY variants). Each mode is a singleton type for zero-cost dispatch.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractBreakInMode","page":"API Reference","title":"Main.YaesuCAT.AbstractBreakInMode","text":"AbstractBreakInMode <: AbstractValue\n\nCW break-in modes: off, semi, full.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractAGCMode","page":"API Reference","title":"Main.YaesuCAT.AbstractAGCMode","text":"AbstractAGCMode <: AbstractValue\n\nAGC function settings.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractMeterType","page":"API Reference","title":"Main.YaesuCAT.AbstractMeterType","text":"AbstractMeterType <: AbstractValue\n\nMeter display types (compression, ALC, power out, SWR, current).\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractSwitch","page":"API Reference","title":"Main.YaesuCAT.AbstractSwitch","text":"AbstractSwitch <: AbstractValue\n\nBinary on/off toggle. Use On() or Off() — no booleans needed.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractBand","page":"API Reference","title":"Main.YaesuCAT.AbstractBand","text":"AbstractBand <: AbstractValue\n\nHF/VHF band selection values.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractTransport","page":"API Reference","title":"Main.YaesuCAT.AbstractTransport","text":"AbstractTransport\n\nAbstraction for the serial communication layer. Implement write_bytes and read_until_terminator for new transports. The default SerialTransport wraps LibSerialPort.\n\n\n\n\n\n","category":"type"},{"location":"api/#Main.YaesuCAT.AbstractCWKeyer","page":"API Reference","title":"Main.YaesuCAT.AbstractCWKeyer","text":"AbstractCWKeyer\n\nRoot type for CW keying backends. Subtypes control how Morse code is physically keyed:\n\nRTSKeyer: toggles RTS line on the Standard COM port\nDTRKeyer: toggles DTR line on the Standard COM port\n\n\n\n\n\n","category":"type"},{"location":"#YaesuCAT.jl","page":"Home","title":"YaesuCAT.jl","text":"A Julia package for controlling Yaesu transceivers via the CAT (Computer Aided Transceiver) protocol. Currently supports the FT-891, designed for extensibility to other models.","category":"section"},{"location":"#Design-Philosophy","page":"Home","title":"Design Philosophy","text":"This package uses idiomatic Julia patterns throughout:\n\nPrinciple How\nMultiple dispatch Every CAT command is a type; set!/read dispatch on (Radio, Command, Value)\nNo type checking No isa, typeof, or if/else on types anywhere — behavior is selected via dispatch\nParametric types FT891{T} is concrete for each transport; FrequencyVFO{A} vs FrequencyVFO{B} resolved at compile time\nValue types Hz(14_060_000) not 14060000; CW() not \"3\" — prevents mixing units\nTestability NullTransport lets you test encoding/decoding without hardware","category":"section"},{"location":"#Reference","page":"Home","title":"Reference","text":"This package is inspired by kd-boss/CAT, a C++ library for Yaesu radio control. The Julia translation maps C++ patterns to Julia idioms:\n\nC++ (kd-boss/CAT) Julia (YaesuCAT.jl)\nnamespace Yaesu::Commands::FT891 Dispatch on FT891{T} type\nstruct Command { static Set(); Read(); Answer(); } encode_set(cmd, val), encode_read(cmd), decode_answer(cmd, raw)\nenum class MeterType { COMP, ALC, ... } abstract type AbstractMeterType end; struct COMP <: AbstractMeterType end\nCapability via presence of static methods Capability via abstract parent: SetReadCommand, SetOnlyCommand, ReadOnlyCommand","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(url=\"https://github.com/mashu/YaesuCAT.jl\")","category":"section"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"using YaesuCAT\n\nradio = FT891(\"/dev/ttyUSB0\"; baudrate=9600)\nconnect!(radio)\n\nset!(radio, FrequencyVFO{A}(), Hz(14_060_000))\nset!(radio, Mode(), CW())\nset!(radio, KeySpeed(), WPM(17))\n\nfreq = read(radio, FrequencyVFO{A}())  # → Hz(14060000)\n\ndisconnect!(radio)\n\nFor hardware setup, full usage examples, testing without a radio, and CW keying, see Getting Started and CW Keying.","category":"section"},{"location":"cw/#CW-Keying","page":"CW Keying","title":"CW Keying","text":"The FT-891 supports two methods for sending CW from a computer. Understanding the distinction is important for choosing the right approach.","category":"section"},{"location":"cw/#Approach-1:-Keyer-Memory-Playback-(KY/KM-Commands)","page":"CW Keying","title":"Approach 1: Keyer Memory Playback (KY/KM Commands)","text":"The FT-891's KY CAT command only triggers playback of pre-stored messages. It does NOT accept arbitrary text for direct CW transmission.\n\nwarning: Common misconception\nUnlike the FT-991 which supports sending arbitrary text via KY, the FT-891's KY command only has a Set operation (no Read/Answer) and only accepts slot numbers. This matches the kd-boss/CAT C++ library where CWKeying only has Set() with a slot parameter.","category":"section"},{"location":"cw/#Usage","page":"CW Keying","title":"Usage","text":"# Store messages in keyer memory slots 1-5 (max 50 chars each)\nset!(radio, KeyerMemory(1), \"CQ CQ DE SA0KAM SA0KAM K\")\nset!(radio, KeyerMemory(2), \"5NN TU\")\nset!(radio, KeyerMemory(3), \"SA0KAM\")\n\n# Trigger playback — radio's internal keyer sends at current KS speed\nset!(radio, CWKeying(), KeyerSlot(1))\n\n# Or trigger message keyer slots (6-A in the CAT manual)\nset!(radio, CWKeying(), MessageSlot(1))","category":"section"},{"location":"cw/#When-to-use-this","page":"CW Keying","title":"When to use this","text":"Contest exchanges with fixed messages\nCQ calls, callsign, RST reports\nAny message ≤ 50 characters that you can pre-store","category":"section"},{"location":"cw/#Approach-2:-RTS/DTR-Line-Keying-(PC-KEYING)","page":"CW Keying","title":"Approach 2: RTS/DTR Line Keying (PC KEYING)","text":"For arbitrary CW text, the FT-891 supports \"PC KEYING\" via menu 07-12. The computer toggles the RTS (or DTR) serial control line to key the transmitter directly — functioning as a software straight key.\n\nThis package implements the full timing logic following the PARIS standard.","category":"section"},{"location":"cw/#Setup","page":"CW Keying","title":"Setup","text":"Set menu 07-12 PC KEYING to RTS (or DTR)\nSet menu 04-01 KEYER TYPE to OFF (straight key emulation)\nUse the Standard COM port (lower-numbered /dev/ttyUSB)","category":"section"},{"location":"cw/#Usage-2","page":"CW Keying","title":"Usage","text":"# CAT commands on Enhanced port\nradio = FT891(\"/dev/ttyUSB0\")\nconnect!(radio)\nset!(radio, Mode(), CW())\n\n# CW keying on Standard port (separate connection)\nkeyer = RTSKeyer(\"/dev/ttyUSB1\")\n\n# Send arbitrary text at 17 WPM\nsend_morse!(keyer, \"CQ CQ DE SA0KAM SA0KAM K\", WPM(17))\n\n# Wait for response, then send again\nsend_morse!(keyer, \"UR RST 599 599 BK\", WPM(17))\n\nclose(keyer)\ndisconnect!(radio)","category":"section"},{"location":"cw/#Pre-computing-Morse","page":"CW Keying","title":"Pre-computing Morse","text":"For repeated messages, pre-compute the element sequence:\n\ncq_elements = text_to_morse(\"CQ CQ DE SA0KAM K\")\n\n# Send multiple times without re-encoding\nsend_morse!(keyer, cq_elements, WPM(17))\nsend_morse!(keyer, cq_elements, WPM(17))","category":"section"},{"location":"cw/#Timing-Details","page":"CW Keying","title":"Timing Details","text":"The PARIS standard defines timing in \"units\" where 1 unit = 1200/WPM milliseconds:\n\nElement Duration At 17 WPM\nDit (key down) 1 unit 70.6 ms\nDah (key down) 3 units 211.8 ms\nElement gap 1 unit 70.6 ms\nCharacter gap 3 units 211.8 ms\nWord gap 7 units 494.1 ms","category":"section"},{"location":"cw/#Comparison","page":"CW Keying","title":"Comparison","text":"Feature Keyer Memory RTS/DTR Keying\nArbitrary text No (50 char limit, pre-stored) Yes\nTiming accuracy Excellent (radio's internal keyer) Good (limited by OS scheduling)\nSpeed control Uses radio's KS setting Explicit WPM() parameter\nCOM port Enhanced (CAT) Standard (lower number)\nBreak-in support Yes (radio handles TX/RX) Manual (or set break-in via CAT)\nSetup complexity Simple (just CAT commands) Requires menu 07-12 configuration","category":"section"},{"location":"cw/#Extending-with-New-Keyer-Types","page":"CW Keying","title":"Extending with New Keyer Types","text":"The keyer system is extensible via Julia's type hierarchy:\n\n# All keyers inherit from AbstractCWKeyer\n# To add a new keyer, define the type and implement _key_down/_key_up:\n\nstruct GPIOKeyer <: AbstractCWKeyer\n    pin::Int\nend\n\nYaesuCAT._key_down(k::GPIOKeyer) = # set GPIO pin high\nYaesuCAT._key_up(k::GPIOKeyer)   = # set GPIO pin low\n\n# send_morse! works automatically via dispatch!\nsend_morse!(GPIOKeyer(17), \"CQ\", WPM(20))","category":"section"}]
}
